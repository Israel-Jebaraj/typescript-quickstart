{"version":3,"sources":["../index.ts"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["/// <reference path=\"../typings/globals/jquery/index.d.ts\" />\r\nconst LOCAL_STORAGE_KEY: string = \"ToDoList\";\r\nlet localStoreString: string | null = localStorage.getItem(LOCAL_STORAGE_KEY);\r\nlet lists: ToDo[] = localStoreString != null ? JSON.parse(localStoreString) : [];\r\n\r\nif (lists.length > 0) {\r\n    lists.forEach((a: ToDo) => renderTodo(a));\r\n}\r\n\r\n$(document).on('submit', (e) => {\r\n    e.preventDefault();\r\n    let todo: string = $(\"form #todoInput\").val();\r\n    if (todo) {\r\n        let newTodoItem: ToDo = {\r\n            id: Date.now(),\r\n            value: todo,\r\n            isCompleted: false\r\n        }\r\n        renderTodo(newTodoItem, true);\r\n    }\r\n});\r\n$(document).ready(() => {\r\n    $('.ToDoList').on('click', (e) => {\r\n        if (e.target.tagName == \"SPAN\") {\r\n            let element = e.target.parentNode as HTMLElement;\r\n            let LIId = element.getAttribute(\"id\");\r\n            if (LIId != null) {\r\n                let reqId: number = parseInt(LIId);\r\n                lists = lists.filter((a: ToDo) => a.id != reqId);\r\n                pushToLocalStorage();\r\n            }\r\n            element.remove();\r\n        }\r\n        if (e.target.tagName == \"P\") {\r\n            let pTag = e.target as HTMLLIElement;\r\n            let element = e.target.parentNode as HTMLElement;\r\n            let LIId = element.getAttribute(\"id\");\r\n            if (LIId != null) {\r\n                let reqId: number = parseInt(LIId);\r\n                lists.forEach((a: ToDo) => {\r\n                    if (a.id == reqId) {\r\n                        a.isCompleted = !a.isCompleted;\r\n                    }\r\n                });\r\n                pushToLocalStorage();\r\n            }\r\n            $(pTag).toggleClass('completed');\r\n        }\r\n    }\r\n    );\r\n})\r\n\r\ninterface ToDo {\r\n    id: number,\r\n    value: string,\r\n    isCompleted: boolean\r\n}\r\n\r\nfunction renderTodo(todoItem: ToDo, isNew: boolean = false): void {\r\n    let todoLI: string = `<li id='${todoItem.id}'><p class=''> ${todoItem.value} </p> <span class=\"far fa-trash-alt\"></span></li>`;\r\n    $('.ToDoList').prepend(todoLI);\r\n    if (isNew) {\r\n        lists.push(todoItem);\r\n        pushToLocalStorage();\r\n        let form = $(\"#todoForm\")[0] as HTMLFormElement;\r\n        form.reset();\r\n    }\r\n    else {\r\n        if(todoItem.isCompleted){\r\n            $(\".ToDoList li#\" + todoItem.id).find(\"p\").toggleClass(\"completed\");\r\n        }\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\nfunction pushToLocalStorage(): void {\r\n    localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(lists));\r\n}\r\n"]}